<html>

<head>
  <!-- 필수 선언부 -->
  <meta charset="utf-8">
  <script src="../jsp/w3.js"> </script>
  <!-- 커스텀 부분 코드 -->

  <!-- 헤더 부분 -->
  <div data-include-path="../page/header.html"> </div>

  <!-- js 연결 -->
  <script src="../jsp/javascript.js"></script>
  <script src="../jsp/mustache.min.js"></script>
  <script src="https://uicdn.toast.com/editor/latest/toastui-editor-all.min.js"></script>
  <!--주소 받아오기 카카오-->
  <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
  <link rel="stylesheet" href="https://uicdn.toast.com/editor/latest/toastui-editor.min.css" />
  <!-- 하이라이트 라이브러리 추가, 토스트 UI 에디터에서 사용됨 -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/default.min.css">
  <!-- 하이라이트 라이브러리, 언어 -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/languages/css.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/languages/java.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/languages/javascript.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/languages/xml.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/languages/php.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/languages/php-template.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/languages/sql.min.js"></script>
  <!-- 토스트 UI 에디터, 신택스 하이라이트 플러그인 추가 -->
  <script
    src="https://uicdn.toast.com/editor-plugin-code-syntax-highlight/latest/toastui-editor-plugin-code-syntax-highlight-all.min.js"></script>

</head>

<body>
  <!-- 바디 부분 시작 -->

  <!-- 바디 섹션 -->
  <!-- js script 로 이전 게시판 이름을 출력해야함-->
  <div class="b-divider">스터디 생성 </script>
  </div>
  <div class="alert alert-warning" role="alert">
    <strong><i class="fa fa-exclamation-circle fa-lg"></i>
      <center> 스터디 생성 페이지입니다. 멘토만 신청할 수 있으며 멘티는 신청할 수 없습니다.
      </center>
    </strong>
  </div>
  <!-- 이까지가 헤더가 아래부터 게시판 보드 시작임 -->
  <!-- 1차 보드 -->
  <div class="container">
    <div class="input-form-backgroud row">
      <div class="input-form col-md-12 mx-auto">
        <h4 class="mb-3">1. 프로젝트 기본 정보를 입력해주세요.</h4>
        <form class="validation-form" novalidate>
          <div class="row">


          </div>
          <div class="row">
            <div class="col-md-8 mb-3">
              <label for="root">모집 구분 </label>
              <select class="custom-select d-block " id="types" required>
                <option value="">-선택해 주세요-</option>
                <option value="project">프로젝트</option>
                <option value="study">스터디</option>
              </select>
              <div class="invalid-feedback"> 프로젝트 모집구분을 입력해주세요. </div>
            </div>

            <div class="col-md-6 mb-3">
              <label for="root2">모집 인원 (명)</label>
              <input type="number" name="peopleNum" min="1" class="custom-select d-block" value="1" required>
              <!-- <select class="custom-select d-block w-100" id="peopleNum" required>
                <option value="">-선택해 주세요-</option>
                <option>1명</option>
                <option>2명</option>
                <option>3명</option>
                <option>4명</option>
                <option>5명</option>
                <option>6명</option>
                <option>7명</option>
                <option>8명</option>
                <option>9명</option>
                <option>10명 이상</option>
              </select> -->
              <div class="invalid-feedback"> 모집 인원을 입력해주세요!</div>
            </div>
            <!-- 2번째 질문 사항들 -->
            <div class="col-md-6 mb-3">
              <label for="name">진행 기간 (개월)</label>
              <input type="number" name="month" min="1" max="12" class="custom-select d-block" value="1" required>
              <!-- <select class="custom-select d-block w-100" id="root4" required>
                <option value="">-선택해 주세요-</option>
                <option>1개월</option>
                <option>2개월</option>
                <option>3개월</option>
                <option>4개월</option>
                <option>5개월</option>
                <option>6개월</option>
                <option>장기 </option>
              </select> -->
              <div class="invalid-feedback"> 진행방식을 입력해주세요.</div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-6 mb-3">
              <label for="root2">기술 스택</label>
              <!-- 스택의 id값 불러오기 -->
              <script>const stacks = duck_nifskorea_com.study_make.getStackJSON();</script>
              <div id="stackOption"></div>
              <script>duck_nifskorea_com.study_make.addStack(stacks);</script>
              <!-- <select class="custom-select d-block w-100" id="root2" name="stack" required>
                <option value="">-선택해 주세요-</option>
                <option>Udemy</option>
                <option>JavaScript</option>
                <option>TypeScript</option>
                <option>React</option>
                <option>Vue</option>
                <option>Node.js</option>
                <option>Spring</option>
                <option>Java</option>
                <option>Next.js</option>
                <option>Nestjs</option>
                <option>Express</option>
                <option>Go</option>
                <option>C</option>
                <option>Python</option>
                <option>Django</option>
                <option>swift</option>
                <option>kotlin</option>
                <option>MySQL</option>
                <option>MongoDB</option>
                <option>php</option>
                <option>Firebase</option>
              </select> -->
              <div class="invalid-feedback"> 기술 스택을 선택해주세요!</div>
              <!-- 3번째 질문부분 -->
              <div class="p-3"></div>
              <div class="row">



              </div>
              <div class="row">
                <!-- 여기서 지역 선택 부분 -->
              </div>
              <div class="row">
              </div>
            </div>
            <div class="col-md-6 mb-3">
              <label for="name">진행 방식</label>
              <select class="custom-select d-block w-100" id="root2" name="contact" required>
                <option value="">-선택해 주세요-</option>
                <option value="contactless">온라인</option>
                <option value="contact">오프라인</option>
              </select>
              <div class="invalid-feedback"> 진행방식을 입력해주세요.</div>
            </div>
            <div class="col-md-6 mb-3">
              <label for="root2">스터디 시작일</label>
              <input type="date" class="custom-select d-block w-100" name="startDay" required>
              <div class="invalid-feedback"> 스터디 시작일을 입력해주세요.</div>
            </div>
            <div class="col-md-6 mb-3">
              <label for="root3">스터디 종료일</label>
              <input type="date" class="custom-select d-block w-100" name="endDay" required>
              <div class="invalid-feedback"> 스터디 종요일을 입력해주세요.</div>
            </div>
            <div class="col-md-6 mb-3">
              <label for="name">오프라인 스터디 지역 선택</label>
              <input type="text" class="form-control" id="address_kakao" name="address" placeholder="-지역을 입력해주세요-"
                required readonly>
            </div>
            <div class="col-md-6 mb-3">
              <label for="root2">강의 기간 (주)</label>
              <select class="custom-select d-block w-100" id="weekCount" onchange="createWeek()" required>
                <option value="">-선택해 주세요-</option>
                <option>1</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5</option>
                <option>6</option>
                <option>7</option>
                <option>8</option>
                <option>9</option>
                <option>10</option>
                <option>11</option>
                <option>12</option>
                <option>13</option>
              </select>
              <div class="invalid-feedback"> 주차별 강의 를 선택해주세요.</div>
            </div>

            <div class="col-md-6 mb-3">
              <label for="root2">주차별 강의개수</label>
              <input type="number" name="studyCount" min="1" class="custom-select d-block" value="1" required>
              <div class="invalid-feedback"> 주차별 강의개수를 입력해주세요</div>
            </div>

          </div>
          <fieldset>
            <legend>태그(카테고리) 선택</legend>
          <div id="studyMakeTags_output"></div>
          <script id="studyMakeTags_template" type="text/template">
               {{#.}}
                  <div style="height:5em;">
                    <input type="checkbox" name="tagName">
                    <img src="http://duck.nifskorea.com:8000{{&tag_image}}">
                    <label id="{{&id}}" name="tagLabel">{{name}}</label>
                  </div>
                {{/.}}
            </script>
          </fieldset>
            <!-- TagJSON 생성 -->
            <script>const tagData = getTagJSON();</script>
            <!-- template 적용 -->
            <script>duck_nifskorea_com.render_template("studyMakeTags_template", tagData, "studyMakeTags_output");</script>
          <script>
            /**
             * 페이지 후반부에 주차별 스터디 설명 동적 변경
             */

            const input_list = [];
            //  
            function createWeek() {
              var selectWeek = document.getElementById('weekCount'); //n주차 get
              var week = selectWeek.selectedIndex;
              // 기존에 생성되었던 데이터들을 초기화
              const text_html = document.getElementById('weekTextHTML');
              while (text_html.firstChild) {
                text_html.removeChild(text_html.firstChild);
              }
              //id가 weekTextHTML인 요소를 변경
              for (var i = 1; i <= week; i++) {
                var textDiv = document.createElement("div");
                var textLabel = document.createElement("label");
                var textWeek = document.createElement("p");
                var textSpan = document.createElement("span");
                var textInput = document.createElement("input");
                var textDiv2 = document.createElement("div");
                textLabel.setAttribute("for", "address2");

                textWeek.appendChild(document.createTextNode(i + "주차 강의 제목"));

                textSpan.setAttribute("class", "text-muted");

                textInput.setAttribute("type", "text-text");
                textInput.setAttribute("class", "form-control");
                textInput.setAttribute("id", "address2");
                textInput.setAttribute("style", "width: 1000px;");
                textInput.setAttribute("placeholder", "강의 제목을 입력해주세요.");
                textInput.setAttribute("required", "");

                textDiv2.setAttribute("class", "invalid-feedback");
                textDiv2.appendChild(document.createTextNode(week + "주차 강의제목을 입력해주세요"));

                textDiv.appendChild(textLabel);
                textDiv.appendChild(textWeek);
                textDiv.appendChild(textSpan);
                textDiv.appendChild(textInput);
                textDiv.appendChild(textDiv2);
                document.getElementById("weekTextHTML").appendChild(textDiv);

                input_list.push(textInput);
              }

            }
          </script>
          <!-- 계속 이어서 진행 -->

          <hr class="mb-3">
          <div class="mb-4"></div>





          <!-- 아래에서부터 본격적인 보드 시작 -->
          <!-- 2차 보드 -->
          <div class="container">
            <div class="input-form-backgroud row">
              <div class="col-md-12 mx-auto">
                <h4 class="mb-3">2. 프로젝트에 대해 소개해주세요 </h4>
                <!--<form class="validation-form" novalidate>-->
                <div class="row">
                  <!-- 아래서 부터 시작하는 부분 -->
                  <div class="mb-3">
                    <label for="address2">제목<span class="text-muted"></span></label>
                    <input type="text" class="form-control " id="address2" style="width: 1000px;"
                      placeholder="제목을 입력해주세요." name="studyTitle" required>
                    <div class="invalid-feedback "> 제목을 입력해주세요. </div>
                  </div>
                </div>
                강의 설명
                <!-- 에디터 부분 -->
                <div id="editor">
                  <script>const editor = duck_nifskorea_com.study_make.createEditor();</script>
                </div>
                <!-- powerd by 표시 부분 -->
                <div class="toastui-img fw-bolder">
                  Powerd By : <img src="../img/toastui.png" width="140" height="33">
                </div>
                <!-- 에디터 종료 다음 주차별 내용 -->
                <h4 class="mb-3">3. 강의 일정 등록 </h4>
                <div class="mb-3">
                  <!-- 입력값으로 동적으로 변하게 하기 (작업중)-->
                </div>
                <!-- 주차별로 추가될 p 속성 -->
                <p id="weekTextHTML"></p>
                <div class="custom-control custom-checkbox">
                  <input type="checkbox" class="custom-control-input" id="aggrement" required>
                  <label class="custom-control-label " for="aggrement">위의 내용으로 스터디를 개설진행전 내용을 확인하셨습니까?</label>
                </div>
                <div class="mb-4"></div>
                <button type="submit" class="btn btn-primary btn-lg btn-block"
                  onclick="duck_nifskorea_com.study_make.formSubmit()">스터디 생성 완료</button>
              </div>
            </div>
            <footer class="my-3 text-center text-small">
              <p class="mb-1">&copy; 2022 코딩 스터디 매칭 플랫폼.</p>
            </footer>
          </div>
          <hr class="mb-3">
        </form>
      </div>
    </div>

    <!-- 끝나는 부분임-->

  </div>
  </div>

</body>

<script> 
  window.addEventListener('load', () => {
    const forms = document.getElementsByClassName('validation-form');
    Array.prototype.filter.call(forms, (form) => {
      form.addEventListener('submit', function (event) {
        if (form.checkValidity() === false) {
          event.preventDefault();
          event.stopPropagation();
        } form.classList.add('was-validated');
      }, false);
    });
  }, false); 
</script>
<!-- 토스트 UI 에디터 -->
<!-- <script>
  const Editor = toastui.Editor;
  const codeSyntaxHighlight = Editor.plugin;
  const editor = new Editor({
    el: document.querySelector('#editor'),
    height: '500px',
    initialEditType: 'markdown',
    previewStyle: 'vertical',
    initialValue: '- 원하시는 내용을 작성해주세요.',
    plugins: [toastui.Editor.plugin.codeSyntaxHighlight],
    usageStatistics: 'false',
    language: 'ko'
  });
  duck_nifskorea_com.study_make.getDescription(editor.getMarkdown());
</script> -->
<footer>
  <div data-include-path="../page/footer.html"></div>
</footer>
<!-- 상위페이지로 이동 버튼 top -->
<button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>
<script>
  //Get the button
  var mybutton = document.getElementById("myBtn");

  // When the user scrolls down 20px from the top of the document, show the button
  window.onscroll = function () { scrollFunction() };

  function scrollFunction() {
    if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
      mybutton.style.display = "block";
    } else {
      mybutton.style.display = "none";
    }
  }

  // When the user clicks on the button, scroll to the top of the document
  function topFunction() {
    document.body.scrollTop = 3;
    document.documentElement.scrollTop = 3;
  }
</script>
<!-- top 버튼 끝 -->
<!-- 카카오 지도 관련 찾기 -->
<script>
  document.getElementById("address_kakao").addEventListener("click", function () { //주소입력칸을 클릭하면
    //카카오 지도 발생
    new daum.Postcode({
      oncomplete: function (data) { //선택시 입력값 세팅
        autoClose: false
        animation: true
        popupKey: 'popup1'// 지정하지않으면 계속 새창이 열림
        popupTitle: '오프라인 스터디 주소 검색'
        document.getElementById("address_kakao").value = data.address; // 주소 넣기
      }
    }).open();
  });

</script>
<!-- 채팅 영역 부분 -->
<a href="javascript:openPop()"><img src="http://duck.nifskorea.com:8080/project/img/chat.png" class="chat" >1:1 chat </a>
<!-- 팝업창 구성요소 부분-->
<div class="popup_layer" id="popup_layer" style="display: none;">
  <div class="popup_box">
    <div style="height: 10px; width: 500px; float: top;">
      <a href="javascript:closePop();"></a>
    </div>
    <!--팝업 컨텐츠 영역-->
    <div class="popup_cont">
        <div class="row">
              <h3> 채팅 상담 채널 </h3>
                  <iframe src="https://service.dongledongle.com/duckduck" frameborder="0" width="100%" height="800"></iframe>
            </div>
    </div>
    <!--팝업 버튼 영역-->
    <div class="popup_btn" style="float: bottom; margin-top: 10px;">
      <a href="javascript:closePop();">닫기</a>
    </div>
  </div>
</div>
<!-- 팝업창 구성요소 끝 -->
<!-- 팝업 열고 닫기 채팅 -->
<script>
  function openPop() {
    document.getElementById("popup_layer").style.display = "block";
  }
  //팝업 닫기
  function closePop() {
    document.getElementById("popup_layer").style.display = "none";
  }
</script>
</html>