<!-- 게시글 수정하기 전 페이지 (수정, 삭제 가능)-->

<html>

<head>

    <!-- 필수 선언부 -->
    <meta charset="utf-8">
    <script src="../jsp/w3.js"> </script>
    <!-- 커스텀 부분 코드 -->

    <!-- 헤더 부분 -->
    <div data-include-path="../page/header.html"> </div>

    <!-- js 연결 -->
    <script src="../jsp/javascript.js"></script>
    <script src="https://uicdn.toast.com/editor/latest/toastui-editor-all.min.js"></script>
    <link rel="stylesheet" href="https://uicdn.toast.com/editor/latest/toastui-editor.min.css" />
</head>

<body>
    <form method="get" name="form">
        <!-- 바디 섹션 -->
        <div class="b-divider">게시글 수정 페이지</div>
        <!-- 아래부터 메인 페이지 분할하여 표현 하는 부분 -->

        <div class="container input-form">
            <!-- DB 로 스터디명을 표시해야함 js script -->
            <div class="d-sm-flex align-items-center justify-content-between mb-4">
                <!-- 게시판 이름 긁어와야함-->
                <h4 class="mb-3"> {{Bulletin_Board_name}} 게시판 </h4> <!--게시판 이름-->
                <hr class="my-2">
                <!-- 이까지가 헤더가 아래부터 게시판 보드 시작임 -->
                <div class="p-1"></div>

            </div>
            <!-- 아래에서부터 본격적인 보드 시작 -->
            <section>
                <!-- js script 게시글 이름 불러와야함 -->
                <div class="studyContent_title__3680o"> {{Bulletin_name}} </div> <!-- 게시글 이름-->
                <div class="studyContent_userAndDate__1iYDv">
                    <div class="studyContent_user__1XYmH">
                        <!-- js script 사용자 프로필 불러와야함 -->
                        <img class="studyContent_userImg__3gyI-"
                            src="https://hola-post-image.s3.ap-northeast-2.amazonaws.com/default.PNG" alt="userImg">
                        <!-- js script 유저 이름 불러와야함 -->
                        <div class="studyContent_userName__1GBr8">{{user_name}}</div> <!--로그인 한 사람 이름-->
                    </div>
                    <!-- js script 게시글 작성 일자 불러와야함 -->
                    <div class="studyContent_registeredDate__3lybC">{{date}}</div> <!-- 게시글 작성 날짜-->
                </div>
                <!-- 아래 해당 부분은 게시판 주요 정보들 js script-->
                <ul class="studyInfo_studyGrid__38Lfj">
                    <li class="studyInfo_contentWrapper__KkSUP">
                      <span class="studyInfo_title__3jXRE">모집 구분</span>
                      <span class="studyInfo_content__eqtqC">{{Differentiate}}</span> <!-- 모집 종류? ex)스터디 -->
                    </li>
                    <li class="studyInfo_contentWrapper__KkSUP">
                      <span class="studyInfo_title__3jXRE">진행 방식</span>
                      <span class="studyInfo_content__eqtqC">{{online_or_offline}}</span> <!-- 온라인, 오프라인 여부-->
                    </li>
                    <li class="studyInfo_contentWrapper__KkSUP">
                      <span class="studyInfo_title__3jXRE">모집 인원</span>
                      <span class="studyInfo_content__eqtqC">{{Personnel}}</span> 
                    </li>
                    <li class="studyInfo_contentWrapper__KkSUP">
                      <span class="studyInfo_title__3jXRE">스터디 기간</span>
                      <span class="studyInfo_content__eqtqC">{{start}} </span> 
                      <span class="studyInfo_content__eqtqC">{{end}} </span>
                    </li>
                    <li class="studyInfo_contentWrapper__KkSUP">
                      <span class="studyInfo_title__3jXRE">연락 방법</span>
                        <div class="contactPoint_email__1a-aY">{{emali_or_phone}}</div> <!-- 이메일 or 폰번호-->
                    </li>
                    <li class="studyInfo_contentWrapper__KkSUP">
                      <span class="studyInfo_title__3jXRE">예상 기간</span>
                      <span class="studyInfo_content__eqtqC">{month}개월</span>
                    </li>

                    <!-- 게시판 보드 부분 (내용)-->
                    <div class="studyContent_postContentWrapper__187Zh">

                        <h2 class="studyContent_postInfo__3zpYu">{{name}} 님의 프로젝트 소개</h2> 

                        <div class="studyContent_postContent__2c-FO">
                            <p><br></p>
                            <p><br></p>
                            <p>{{content}}</p> <!-- 게시글 내용 부분-->
                            <p><br></p>
                        </div>
                    </div>
                </ul>
            </section>
            <!-- 댓글 영역 -->
            <section class="studyContent_commentAndViews__LrV6X">
                <div class="studyContent_postComment__2lpJV">
                    <div class="commentInput_commentInput__39H41">
                        <!-- 몇개 댓글을 만들었는지 js script 불러와야함 -->
                        <h1 class="commentInput_commentCount__2dHvH">{{Comments}}개의 댓글이 있습니다.</h1>
                        <!--<textarea class="commentInput_commentText__2er8t" placeholder="댓글을 입력하세요."></textarea>-->
                        <div class="form-floating">
                            <textarea placeholder="내용을 입력해주세요" id="floatingTextarea2"
                                style="height: 100px; resize: none;"></textarea>
                            <label for="floatingTextarea2"></label>
                        </div>
                        <div class="commentInput_buttonWrapper__2f_l9">
                            <!-- 해당 부분이 정보를 전송하는 form 역할에 해당되는 부분 js script-->
                            <form class="form-inline my-2 my-md-0">
                                <button class="commentInput_buttonComplete__24z4R"
                                    formaction="http://duck.nifskorea.com:8080/project/page/login.html" name="">댓글
                                    등록</button>
                        </div>
                    </div>
                    <ul class="commentList_CommentList__30HUh"></ul>
                    <li class="commentItem_commentContainer__3eMR4">
                        <section class="commentItem_commentHeader__3-Wux">
                            <div class="commentItem_avatarWrapper__2J4nR">
                                <!-- 사용자 이미지 js script 불러와야함 -->
                                <img class="commentItem_userImg__jWpVc"
                                    src="https://hola-post-image.s3.ap-northeast-2.amazonaws.com/default.PNG"
                                    alt="사용자 이미지">
                                <div class="commentItem_commentInfo__5KL0S">
                                    <div class="commentItem_title__36t1w">
                                        <!-- 사용자 명 js script 불러와야함 -->
                                        <div class="commentItem_userNickname__PQ8kV">{{name}}</div> <!-- 댓글 쓴 사람 이름-->
                                        <!-- 사용자 게시글 작성시간 js script 불러와야함 -->
                                        <div class="commentItem_registeredDate__2TPJZ">{{yyyy-mm-dd}} {{hh-mm}}</div> <!--댓글 쓴 시간 -->
                                    </div>
                                </div>
                            </div>
                        </section>
                        <section class="commentItem_commentContent__1yK7o">
                            <!-- 사용자 게시글 내용을 만들어야함  js script 불러와야함 -->
                            <p class="commentItem_commentContent__1yK7o">{{Comments_content}} <!-- 댓글 내용--> 
                            </p>
                        </section>
                    </li>
                </div>
        </div>
    </form>
    </section>

</body>


<br>


<!-- 만약에 자바스크립트로 이전페이지로 이동으로 바꿀수있음 js script로 이전페이지 이동하기 -->



<div style="text-align:center">

    <button type="submit" class="commentInput_buttonComplete__24z4R " formaction="#" onclick="revise_success()">
        <a href="http://duck.nifskorea.com:8080/project/page/manage_my_post.html"> 뒤로 가기</center>
    </button>


    <!-- JS DATA, 수정 취소 버튼을 클릭할 시, 이전 페이지로 이동-->
    <button type="submit" class="commentInput_buttonComplete__24z4R " formaction="#" onclick="revise_success()">
        <a href="http://duck.nifskorea.com:8080/project/page/write_revise2.html"> 수정 하기</center>
    </button>

    <!-- JS DATA, 수정 완료 버튼을 눌렀을 시, 글이 수정된 상태로 저장-->



    <!-- JS DATA, 글 삭제하기 버튼을 눌렀을 경우, 
    1. 정말 삭제하시겠습니까? 라는 경고문 출력 후
      1.1 YES를 눌렀을 경우 삭제
      1.2 NO를 눌렀을 경우, 경고문만 사라지게 만들기-->
    <button type="submit" class="commentInput_buttonComplete__24z4R" formaction="#" onclick="post_delete()">
        <center>글 삭제하기</center>
    </button>


    <!-- (JS) 글 삭제하기 버튼 onclick-->
    <script>
        function post_delete() {
            if (window.confirm("정말 삭제하시겠습니까?")) {
                alert("정상적으로 삭제되었습니다.");

                location.href = "http://duck.nifskorea.com:8080/project/page/manage_my_post.html"

            }
            // 버튼 클릭 전 페이지로 이동?
            // 근데 이동 안하고 그냥 취소만 동작하게 하고 싶음.
            //location.href ="http://duck.nifskorea.com:8080/project/page/write_revise.html"
            return
        }
    </script>


</div>
</center>
</form>
<!-- 전송하기 -->
</div>
</form>
</body>
<!-- 푸터 부분 -->
<footer>
    <div data-include-path="../page/footer.html"></div>
</footer>
<!-- 토스트 UI 에디터 -->
<script>
    const Editor = toastui.Editor;
    const codeSyntaxHighlight = Editor.plugin;
    const editor = new Editor({
        el: document.querySelector('#editor'),
        height: '500px',
        initialEditType: 'markdown',
        previewStyle: 'vertical',
        initialValue: '### 원하시는 HTML내용을 작성해주세요.',
        usageStatistics: 'false',
        language: 'ko'

    });
    const editorRef = useRef();
    editorRef.current.getInstance().getMarkdown();
    editor.getMarkdown();
    //console.log(editor.getMarkdown()); // { range: [startCursorOffset, endCursorOffset], type: 'emph' }
</script>
<!-- 상위페이지로 이동 버튼 top -->
<button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>
<script>
  //Get the button
  var mybutton = document.getElementById("myBtn");
  
  // When the user scrolls down 20px from the top of the document, show the button
  window.onscroll = function() {scrollFunction()};
  
  function scrollFunction() {
    if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
      mybutton.style.display = "block";
    } else {
      mybutton.style.display = "none";
    }
  }
  
  // When the user clicks on the button, scroll to the top of the document
  function topFunction() {
    document.body.scrollTop = 3;
    document.documentElement.scrollTop = 3;
  }
  </script>
  <!-- top 버튼 끝 -->
  <!-- 채팅 영역 부분 -->
<a href="javascript:openPop()"><img src="http://duck.nifskorea.com:8080/project/img/chat.png" class="chat" >1:1 chat </a>
<!-- 팝업창 구성요소 부분-->
<div class="popup_layer" id="popup_layer" style="display: none;">
  <div class="popup_box">
    <div style="height: 10px; width: 500px; float: top;">
      <a href="javascript:closePop();"></a>
    </div>
    <!--팝업 컨텐츠 영역-->
    <div class="popup_cont">
        <div class="row">
              <h3> 채팅 상담 채널 </h3>
                  <iframe src="https://service.dongledongle.com/duckduck" frameborder="0" width="100%" height="800"></iframe>
            </div>
    </div>
    <!--팝업 버튼 영역-->
    <div class="popup_btn" style="float: bottom; margin-top: 10px;">
      <a href="javascript:closePop();">닫기</a>
    </div>
  </div>
</div>
<!-- 팝업창 구성요소 끝 -->
<!-- 팝업 열고 닫기 채팅 -->
<script>
  function openPop() {
    document.getElementById("popup_layer").style.display = "block";
  }
  //팝업 닫기
  function closePop() {
    document.getElementById("popup_layer").style.display = "none";
  }
</script>
</html>